<div class="chat-message-box" *ngIf="!uploadFlag">
    <div class="chat-pannel">
        <div class="chat-pannel">
            <div>&nbsp;</div>
            <div class="create-box">
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="80px" height="80px"
                        viewBox="0 -5.773000000000001 100 100">
                        <path fill="#EBEDEE"
                            d="M86.5 33.731c-2.357 0-4.57.607-6.5 1.669v-3.669H0v20c0 14.282 8.56 26.56 20.824 32H0s1.113 5 4.5 5h71c3.529 0 4.5-5 4.5-5H59.176a35.072 35.072 0 0 0 19.633-23.002l7.691.002c7.455 0 13.5-6.044 13.5-13.5s-6.045-13.5-13.5-13.5zm0 22l-6.75-.003c.148-1.312.25-2.644.25-3.997v-9.973a8.478 8.478 0 0 1 6.5-3.027 8.5 8.5 0 0 1 0 17z" />
                        <path fill="#DFE1E2" d="M0 31.731v20c0 14.282 8.56 26.56 20.824 32H0s1.113 5 4.5 5H40v-57H0z" />
                        <path fill="#D3D5D6"
                            d="M64.57 80.731H15.453a34.728 34.728 0 0 0 5.371 3h38.352a34.875 34.875 0 0 0 5.394-3z" />
                        <path fill="#C8CACB"
                            d="M40 80.731H15.453a34.728 34.728 0 0 0 5.371 3H40v-3zm-28-33L.585 58.005A34.846 34.846 0 0 0 8.81 74.938L26 59.731l-10-11-4-1z" />
                        <path fill="#B3B9BD" d="M18 31.731h2v12h-2v-12z" />
                        <path fill="#34495E"
                            d="M22 43.731h-6l-4 4v12h14v-12zM32.347 2.869c.7-.738.682-1.915-.042-2.63a1.803 1.803 0 0 0-2.58.044c-3.444 3.634-3.628 8.317-.514 13.196 1.771 2.771 1.47 5.789-.801 8.069a1.884 1.884 0 0 0-.018 2.63 1.79 1.79 0 0 0 1.297.554c.464 0 .925-.178 1.282-.534 3.491-3.508 4.001-8.513 1.295-12.747-3.239-5.079-.74-7.718.081-8.582zm10 0c.7-.738.683-1.915-.042-2.63a1.803 1.803 0 0 0-2.58.044c-3.444 3.634-3.628 8.317-.514 13.196 1.771 2.771 1.47 5.789-.801 8.069a1.884 1.884 0 0 0-.018 2.63 1.79 1.79 0 0 0 1.297.554c.464 0 .924-.178 1.282-.534 3.491-3.508 4.001-8.513 1.295-12.747-3.239-5.079-.741-7.718.081-8.582zm9.921 8.581c-3.24-5.079-.74-7.718.08-8.582a1.888 1.888 0 0 0-.043-2.631 1.804 1.804 0 0 0-2.58.045c-3.443 3.634-3.628 8.317-.514 13.196 1.771 2.771 1.471 5.789-.801 8.069a1.883 1.883 0 0 0-.019 2.63c.354.369.825.554 1.298.554.463 0 .924-.178 1.282-.535 3.492-3.506 4.002-8.51 1.297-12.746z" />
                        <path fill="#F5D657" d="M20.938 46.566h-3.876l-2.581 2.583v7.747h9.039v-7.747z" />
                    </svg>
                </div>
                <div class="txt-welcome">Welcome {{userName}}!</div>
                <div class="txt-assist">How can I assist you ?</div>
                <div class="txt-ask">Ask anything or Chat with a document
                </div>
                <!-- <div style="font-size: 16px;color: #00000096;font-weight: 500;">or</div> -->
                <div>
                    <div class="document-box">
                        <div>

                            <label>
                                <button pButton type="button" class="p-button-sm p-button-xs p-button-help btn-local"
                                    (click)="clickFile()" [disabled]="!(this.chatService.localChatSatus | async)">Choose
                                    from device</button>
                                <input #fileForm type="file" hidden
                                    accept=".ppt,.pptx,.pdf,.doc,.docx,.png,.jpeg,.jpg,.xlsx,.xls" id="fileID"
                                    style="display:none;" (change)="onFileChange($event)">
                            </label>
                        </div>
                        <div class="txt-or">or</div>
                        <div><button pButton type="button"
                                class="p-button-raised p-button-text p-button-sm p-button-xs p-button-help btn-existing"
                                (click)="openExistingFileWindow()">Choose from existing files</button></div>
                    </div>
                </div>
                <div>
                    <div style="font-size: 14px;color: #00000078;">Maximum file size allowed is 100MB</div>
                    <div style="font-size: 14px;color: #00000078;">Supported formats ppt, pptx, pdf, docx, png, jpeg,
                        jpg, xlsx, xls only</div>
                </div>
            </div>
            <div>&nbsp;</div>
        </div>
        <div class="ask-a-question-wrapper">
            <app-chat-ask-a-question></app-chat-ask-a-question>
        </div>

    </div>
</div>
<!-- For MOBILE and above -->
<div class="mobile-spinner-wrapper" *ngIf="uploadFlag">
    <p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="4" fill="var(--surface-ground)" animationDuration="5s">
    </p-progressSpinner>
    <p class="txt-loading-percent">{{ progress }}</p>
    <p class="txt-loading">{{ loadingmsg }}</p>
</div>

<!-- For LAPTOP and above -->
<div class="desktop-spinner-wrapper" *ngIf="uploadFlag">
    <div
        style="padding: 8%;background: #fff;border-radius: 5px;box-shadow: 0 0 5px 2px #ccc;margin-top: 10%;display: flex;flex-direction: column;padding-bottom: 12%;">
        <div><span style="position: absolute;"><p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="4"
                    fill="var(--surface-ground)" animationDuration="5s"></p-progressSpinner></span>
            <span
                style="position: relative;left: 34px;top: 34px;font-size: 20px;font-weight: 600;color: #7C3AED;">{{progress}}</span>
        </div>
        <div style="position: relative;top: 70px;">{{loadingmsg}}</div>
    </div>
</div>
<p-toast></p-toast>